---
title: Java 面向对象01
date: 2018-08-08 12:23:13
categories: Java
---

> 面向对象特点：封装性、继承性、多态性

# 类和对象

## 定义

- 类是对某一类事物的抽象描述，它用于描述一组对象的共同特征和行为。
- 对象用于表示现实中该类事物的个体。
- 类中可以定义**成员变量**和**成员方法**，其中成员变量用于描述对象的特征，也被称作属性。成员方法用于描述对象的行为，可简称方法。
- 定义在类中的变量称为**成员变量**，定义方法在方法中的变量称为**局部变量**。

## 对象的创建和使用

- 在 Java 程序中可以使用 **new 关键字**来创建对象。

  > 类名 对象名称 = new 类名 ( ) ;

  ```java
  class Person{
      int age = 10;   //类中定义的变量被称作成员变量
      //定义speak()方法
      void speak(){
          int age = 60;   //方法内部定义的变量被称作局部变量
          System.out.println("大家好，我今年"+age+"岁!");
      }
  }
  ```

  

  ![image](https://ws2.sinaimg.cn/large/80ceacb8ly1fug2j0xm9kj20ek08d3z7.jpg)

- 通过对象的引用来访问对象所有的成员。

  > 对象引用 **.** 对象成员

  ```java
  class Example01{
      public static void mian(String[] args){
          Person p1 = new Person();  //创建第一个Person对象
          Person p2 = new Person();  //创建第二个Person对象
          p1.age = 18;               //为age属性赋值
          p1.speak();                //调用对象方法
          p2.speak();
      }
  }
  ```

  ![image](https://ws3.sinaimg.cn/large/80ceacb8ly1fug2vno33jj20cs09gjs8.jpg)

- Java虚拟机会自动为成员变量初始化，针对不同类型的成员变量，Java虚拟机会赋予不同的初始值。

  ![image](https://wx4.sinaimg.cn/large/80ceacb8ly1fug3bqi3kaj20tg07lgn0.jpg)

- **当没有任何变量引用这个对象时，它将成为垃圾对象，不能再被实现。**

## 类成员的封装

- 所谓类的封装是指在定义一个类时，将类中的**属性私有化**，即使用 **private 关键字**来修饰。
- 私有属性只能在它所在类中被访问。
- 为了能让外界访问私有属性，需要提供一些使用 public 修饰的公有方法，其中包括用于获取属性值的 getXxx() 方法和设置属性值的 setXxx() 方法。 

# 构造方法

## 定义

在一个类中定义的方法如果同时满足以下三个条件，该方法称为构造方法：

1. 方法名与类名相同。
2. 在方法名的前面没有返回值类型的声明。
3. 在方法中不能使用 return 语句返回一个值。

- **new 语句不仅会实例化类对象，还会调用类中的构造方法。**
- 在一个类中除了定义无参的构造方法，还可以定义有参的构造方法，通过有参的构造方法就可以实现对属性的赋值。

## 构造方法的重载

- 与普通方法一样，构造方法也可以重载，在一个类中可以定义多个构造方法，只要每个**构造方法的参数类型或个数不同**即可。

- **注：**

  **1.  在Java中的每个类都至少有一个构造方法，如果一个类中没有定义构造方法，系统会自动为这个类创建一个默认的构造方法，这个默认的构造方法没有参数，在其方法体中没有任何代码，即什么也不做。**

  **2. 构造方法不用 private 修饰 ，通常用 public 来修饰**。
  
## this 关键字的使用

- this 关键字在程序中的三种常见用法：

  1. 通过 this 关键字可以明确地去访问一个类的成员变量，解决与局部变量名称冲突问题。

     ```java
     class Person{
         int age;
         public Person(int age){
             this.age = age;
         }
         public int getAge(){
             return this.age;
         }
     }
     ```

  2. 通过 this 关键字调用成员方法

     ```java
     class Person{
         public void openMouth(){
             ... 
         }
         public void speak(){
             this.openMonth();
         }
     }
     ```

  3. 构造方法是在实例化对象时被Java虚拟机自动调用的，在程序中不能像调用其他方法一样去掉用构造方法，但可以在一个构造方法中使用“ **this([参数1，参数2...])**”的形式来调用其他的构造方法。

     - 只能在构造方法中使用 this 调用其他构造方法，不能在成员方法中使用。

     - 在构造方法中，使用 this 调用构造方法的语句必须位于第一行，且只能出现一次。

     - 不能在一个类的两个构造方法中使用 this 互相调用。

## super 关键字的使用

- 问题：当子类重写父类的方法后，子类对象无法访问父类被重写的方法。

  解决：Java 提供一个 super 关键字用于访问父类的成员。

- 使用 super 关键字调用父类的成员变量和成员方法。

  > super.成员变量
  >
  > super.成员方法([参数1，参数2...])

- 使用 super 关键字调用父类的构造方法。

  > super([参数1，参数2...])

- **注意：**

  **1. 通过 super 调用父类构造方法的代码必须位于子类构造方法的第一行，并且只能出现一次。**

  **2. 在定义一个类时，如果没有特殊需求，尽量在类中定义一个无参的构造方法，避免被继承时出现错误。**

